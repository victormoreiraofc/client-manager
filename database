CREATE DATABASE railway;
USE railway;              

CREATE TABLE usuarios (          
    id INT AUTO_INCREMENT PRIMARY KEY,
    usuario VARCHAR(50) NOT NULL UNIQUE,
    cargo VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL,
    Imagem BLOB NOT NULL,
    Permissao ENUM ('NULL','ADM') DEFAULT 'NULL', -- "NULL" = funcionario, "ADM" = administrador
    CHECK (usuario REGEXP '^[a-zA-Z]+$'),
    CHECK (senha REGEXP '^[a-zA-Z0-9]+$'),
    CHECK (cargo REGEXP '^[a-zA-Z]+$')
);

CREATE TABLE cliente (
    ID INT PRIMARY KEY AUTO_INCREMENT,
    DataCadastro VARCHAR(255) NOT NULL,
    Nome VARCHAR(255) NOT NULL,
    TipoPessoa ENUM ('fisica','juridica','NI') NOT NULL,
    Email VARCHAR(255) NOT NULL,
    Servico TEXT NOT NULL,
    SituacaoServico ENUM ('pendente','em andamento','concluido'),
    Celular VARCHAR(255) NOT NULL,
    Telefone VARCHAR (255) NOT NULL,
    FuncionarioCadastrante ENUM ('funcionario','administrador'),
    Observacoes VARCHAR (555) NOT NULL
);

CREATE TABLE tarefa (
    ID INT PRIMARY KEY AUTO_INCREMENT,
    NomeTarefa VARCHAR(255) NOT NULL,
    Descrição TEXT NOT NULL,
    StatusTarefa ENUM ('pendente','em andamento','concluido') NOT NULL,
    DataVencimento VARCHAR(50) NOT NULL,
    Prioridade ENUM ('baixa','media','alta') NOT NULL
);

CREATE TABLE relatorio (
    ID INT PRIMARY KEY AUTO_INCREMENT,
    NomeRelatorio VARCHAR(255) NOT NULL,
    Descrição TEXT NOT NULL,
    StatusRelatorio ENUM ('pendente','em andamento','concluido') NOT NULL,
    DataCadastro VARCHAR(50) NOT NULL
);

CREATE TABLE agenda (
    ID INT PRIMARY KEY AUTO_INCREMENT,
    Evento VARCHAR(255) NOT NULL,
    DataInicio VARCHAR(255) NOT NULL,
    DataFinal VARCHAR(255) NOT NULL,
    HorarioInicial VARCHAR(255) NOT NULL,
    HorarioFinal VARCHAR(255) NOT NULL
);

SHOW TABLES;